<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Zero-Sleep calendar</title>
    <link rel="stylesheet" href="vendor/foundation-6.4.2-custom/css/foundation.min.css">
    <link href="style.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script type="module" src="./check-update.js"></script>
    <script type="module">
        import {getVersion, isMajorGreater} from "./check-update.js"

        const dnsName = `zerosleep.dk`
        async function doCheck(comparePackageUrl) {

          console.debug('checking versions....')
          const [
            ipnsVersion,
            thisVersion
          ] = await Promise.all([
              getVersion(`//${location.host}/ipns/${dnsName}/package.json`),
              getVersion(comparePackageUrl),
            ])

          console.debug((isMajorGreater(ipnsVersion, thisVersion)), ipnsVersion, 'vs', thisVersion)

          if (isMajorGreater(ipnsVersion, thisVersion)) {
            document.querySelector('.check-update').innerHTML = `A new publication of this website is available!
                Get it at <a href="//${location.host}/ipns/${dnsName}/">/ipns/${dnsName}</a>`
          }
        }

        if (location.pathname.indexOf('/ipfs/') !== -1) {
            setTimeout(() => {
              try {
                doCheck(`${location.pathname}package.json`)
              }
              catch (e) {
                console.error(e)
              }
            }, 2500)
        }

        window.zerosleep = {
          doCheck
        }
    </script>
</head>
<body>

<header class="header">
    <div class="grid-container">
        <div class="grid-x">
            <div class="cell small-8">
                <h1 class="header-h1">
                    The Zero-Sleep calendar
                </h1>
            </div>
            <p class="cell small-4" style="margin-top: 0.6rem; text-align: right">
                <a href="https://github.com/johncoffee/zerosleep/">github</a>
                <a href="https://ipfs.io/ipfs/QmUgJK7gVrKahqYGmMq9EDuyeSh2nNCgNFwHWxgc63WYwc">ipfs</a>
                <a href="http://zerosleep.dk">dns</a>
            </p>
        </div>
    </div>
</header>

<div class="grid-container">
    <div class="grid-x grid-margin-x">
        <section class="check-update cell small-12"></section>
        <section class="cell large-9">
            <iframe src="https://calendar.google.com/calendar/embed?showTitle=0&amp;showPrint=0&amp;showCalendars=0&amp;height=500&amp;wkst=2&amp;hl=en_GB&amp;bgcolor=%23ffffff&amp;src=fv42obiik5asektru82ck52hbs%40group.calendar.google.com&amp;color=&amp;ctz=Europe%2FCopenhagen" style="border-width:0" height="500" frameborder="0" scrolling="no"></iframe>
            <article class="grid-x grid-margin-x">
                <div class="cell auto">
                    Am I missing an event?
                    <my-email data-user="zerosleep2017" data-domain="ragelse.dk"></my-email>
                    <!-- cool stuff: https://www.labnol.org/internet/hide-email-address-web-pages/28364/ -->
                </div>
                <div class="cell shrink">
                    sources
                    <a href="https://calendar.google.com/calendar/embed?src=fv42obiik5asektru82ck52hbs%40group.calendar.google.com&ctz=Europe/Copenhagen">Google calendar</a>
                    <a href="https://calendar.google.com/calendar/ical/fv42obiik5asektru82ck52hbs%40group.calendar.google.com/public/basic.ics">ICAL</a>
                </div>
            </article>
        </section>
        <section class="cell medium-9 large-3">
            <article>
                <h4>What is a hackathon?</h4>
                <p class="text-small">
                    <em>Hackathon</em> <span class="grey">/ˈhæk əˌθɒn/</span>
                    and <em>game jam</em> are terms for an event where a group of
                    people try and build something new with technology, programming, creative skills.
                </p>
                <p class="text-small">
                    Zerosleep.dk is my personal calendar of all the game jams, hackathons and competitions I
                    could possibly attend. No online-only jams, only events that takes place IRL.
                </p>
            </article>

            <article>
                <h3 style="margin-top: 2em">Great events</h3>
                <p class="list-item">
                    <a href="http://nordicgamejam.org/">Nordic Game Jam</a>
                    <a href="https://www.facebook.com/nordicgamejam/">FB</a>
                </p>
                <p class="list-item">
                    <a href="https://hack4.dk/">Hack4dk</a>
                    <a href="https://www.facebook.com/hack4dk/">FB</a>
                    <a href="https://twitter.com/hack4dk">TW</a>
                </p>
                <p class="list-item">
                    <a href="https://hackjunction.com/">Hackjunction</a>
                    <a href="https://www.facebook.com/hackjunction">FB</a>
                </p>
                <p class="list-item">
                    <a href="https://www.facebook.com/copenhagenstartupweekend/">Startup Weekend</a>
                </p>

                <h3>Sources</h3>
                <p class="list-item">
                    <a href="https://www.startupdigest.com/digests/copenhagen">startupdigest.com</a><br>
                </p>
                <p class="list-item">
                    <a href="https://devpost.com/hackathons?utf8=%E2%9C%93&search=denmark&challenge_type=in-person&sort_by=Recently+Added">devpost.com</a>
                </p>
            </article>
        </section>
    </div>
</div>

</body>
</html>